<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Collector Dashboard - Scan4Swachhta</title>
  <link rel="stylesheet" href="css/collectordashboard.css" />
  <script src="js/qrcode.min.js"></script>
  <script src="https://unpkg.com/html5-qrcode"></script>

</head>
<body>
  <header class="dashboard-header">
    <div class="logo-left">
      <img src="img/scan (2).png" alt="Logo" />
    </div>
    <h1 id="welcome">Welcome, Collector</h1>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </header>

  <nav class="dashboard-nav">
    <button onclick="showSection('dashboard')">Dashboard</button>
    <button onclick="showSection('scan')">Manual Entry</button>
    <button onclick="showSection('Actualscan')">Scan QR</button>
    <button onclick="showSection('instructions')">Instructions</button>
  </nav>

  <main class="dashboard-container">
    <section id="dashboard" class="section">
      <h2>Collector Dashboard</h2>
      <p id="todaysCollections">Today's Collections: ...</p>
      <p id="totalRated">Total Rated: ...</p>
      <p id="avgRating">Average Rating Given: ...</p>

    </section>

    <section id="scan" class="section hidden">
      <h2>Manual Waste Entry</h2>
      <form id="manualEntryForm">
        <div class="form-group">
          <label for="citizenName">Citizen Name</label>
          <input type="text" id="citizenName" placeholder="Enter citizen name" required />
        </div>
        <div class="form-group">
          <label for="weight">Weight of Waste (kg)</label>
          <input type="number" id="weight" name="weight" min="0" step="0.1" placeholder="Enter weight" required>
        </div>
        <div class="form-group">
          <label for="rating">Segregation Rating (1-10)</label>
          <input type="number" id="rating" name="rating" min="1" max="10" placeholder="Enter rating" required>
        </div>
        <button type="submit" class="submit-btn">Submit Entry</button>
      </form>
    </section>
    
    <section id="Actualscan" class="section hidden">
      <h2>Scan the citizen's QR</h2>
      
      <button id="startScannerBtn">Start Scanner</button>
      <div id="qrcode-reader" class="qrcode-reader"></div>
    
      <!-- Add scanned name display here -->
      <div id="scannedNameDisplay" style="margin-top: 1rem; font-weight: bold; font-size: 1.1rem;">
        Scanned Name: <span id="scannedName">None</span>
      </div>
    
      <form id="qrScanForm">
        <input type="hidden" id="citizenName" name="citizenName">
    
        <div class="form-group">
          <label for="weight">Weight of Waste (kg)</label>
          <input type="number" id="weight" name="weight" min="0" step="0.1" placeholder="Enter weight" required>
        </div>
        <div class="form-group">
          <label for="rating">Segregation Rating (1-10)</label>
          <input type="number" id="rating" name="rating" min="1" max="10" placeholder="Enter rating" required>
        </div>
        <button type="submit" class="submit-btn">Submit Entry</button>
      </form>
    </section>
    


    <section id="instructions" class="section hidden">
      <h2>Waste Segregation Instructions</h2>
      
      <div class="info-box">
          <strong>Wet Waste</strong><br>
          Food scraps, vegetables, tea bags, fruit peels. 
          <ul>
              <li>Store in a compost bin or biodegradable bag.</li>
              <li>Avoid mixing with dry waste to ensure proper composting.</li>
          </ul>
      </div>
      
      <div class="info-box">
          <strong>Dry Waste</strong><br>
          Plastic, paper, metal, glass - keep clean and dry.
          <ul>
              <li>Rinse containers before disposal to avoid contamination.</li>
              <li>Flatten cardboard boxes to save space in recycling bins.</li>
          </ul>
      </div>
      
      <div class="info-box">
          <strong>Hazardous Waste</strong><br>
          Batteries, electronics, chemicals - do not dispose of in regular waste.
          <ul>
              <li>Check local guidelines for hazardous waste disposal.</li>
              <li>Use designated drop-off locations for safe disposal.</li>
          </ul>
      </div>
      
      <div class="info-box">
          <strong>Composting Tips</strong><br>
          Composting is a great way to recycle wet waste.
          <ul>
              <li>Balance green materials (nitrogen-rich) with brown materials (carbon-rich).</li>
              <li>Turn the compost pile regularly to aerate and speed up decomposition.</li>
          </ul>
      </div>
      
      <div class="info-box">
          <strong>Rating Guidelines</strong><br>
          10 = Perfect segregation, 1 = Mixed waste
          <ul>
              <li>Consider the cleanliness and separation of waste types.</li>
              <li>Provide feedback on the quality of segregation to improve practices.</li>
          </ul>
      </div>
      
     
      
      <div class="info-box">
          <strong>Additional Resources</strong><br>
          <ul>
              <li><a href="https://greensutra.in/waste-segregation-all-you-need-to-know/" target="_blank">Comprehensive Waste Segregation Guide</a></li>
              <li><a href="https://www.detsi.qld.gov.au/our-department/news-media/down-to-earth/how-to-compost-effectively" target="_blank">Tips for Effective Composting</a></li>
              <li><a href="https://www.recyclenow.com/recycling-locator" target="_blank">Find Recycling Locations Near You</a></li>
          </ul>
      </div>
  </section>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11">
    history.pushState(null, null, location.href);
    window.onpopstate = function () {
      Swal.fire({
        icon: 'warning',
        title: 'Hold up!',
        text: 'Please logout first before leaving this page.',
        confirmButtonText: 'Okay',
        confirmButtonColor: '#3085d6'
      });
      history.go(1); // Block going back
    };
  </script>
  <script src="js/collectordashboard.js"></script>
</body>
</html>